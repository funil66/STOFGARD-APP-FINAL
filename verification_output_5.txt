ðŸš€ Starting System Integrity Verification...
Creating test data...
Testing Step 1: Orcamento Creation...
  âœ“ Orcamento created
  âœ“ Orcamento generated number (Observer works)
Orcamento ID: 2 / Number: 2026.5711
Testing Step 2: Orcamento Approval -> OS Generation...
  âœ“ OS returned from approval
  âœ“ OS persisted
OS ID: 1 / Number: 2026.0001
  âœ“ Agenda created for OS
Agenda ID: 1 / Date: 2026-02-15 09:00:00
  âœ“ Financial Record (Revenue) created
  âœ“ Revenue value correct
  âœ“ Financial Record (Commission) created
  âœ“ Commission value correct (10% of 1000)
Testing Step 3: Payment Confirmation -> OS Status Update...
  âœ“ Revenue marked as Paid
  âœ“ OS status advanced to In Execution (Current: em_execucao)
Testing Step 4: OS Completion -> Warranty Generation...
  âœ“ OS status is Concluded (Current: concluido)
Warning: Warranty not created immediately. Observer might be queued or logic condition failed.
âœ… ALL SYSTEMS VERIFIED SUCCESSFULLY
âœ¨ Database transaction rolled back (Clean state preserved).
